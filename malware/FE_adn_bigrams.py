# -*- coding: utf-8 -*-
"""
Created on Fri Apr 03 17:20:18 2015

@author: Jordi
"""
import pandas as pd
import pickle
from itertools import product
from collections import Counter

#### function for count bigrams
def countBigramsAdnFile(adnFileList, twoLettersComb):
    for letter in twoLettersComb:
        tf = Counter()
        for i in xrange(0, len(adnFileList)-1):
            bigram = data[i]+data[i+1]    
            tf[bigram] += 1
    return tf.items()    

print data[0:10]
for i in xrange(0, len(data)-1):
    bigram = data[i]+data[i+1]    
    print bigram

output = open("D:/train/adn/01azqd4InC7m9JpocGv5adnFile.pkl","rb")
data = pickle.load(output)


##### create list witho combinations of two letters
lettersAdn = ['D','A','L','T','H','C','S','I','F','R','M']
lettersAdnBigram = product(lettersAdn, repeat = 2)
twoLettersComb = []
for bigram in lettersAdnBigram:
    twoLettersComb.append(bigram[0]+bigram[1])

#####################
prova = countBigramsAdnFile(data, twoLettersComb)

print prova



#### create dataFrame to store distribution bigrams of files
print twoLettersComb
nameBigrams = twoLettersComb
nu
twoLettersComb.insert(0, 'Id')
print twoLettersComb 
print featuresBigrams
filename = "01azqd4InC7m9JpocGv5adnFile.pkl"
filename = filename[0:len(filename)-11]


trainAdnBigrams = pd.DataFrame(columns = featuresBigrams)
trainAdnBigrams
trainAdnBigrams.loc[i,'Id'] = filename

    for j in adnFileCountLetters:
        trainAdnFeatures.loc[i,j[0]] = j[1]                
    print "el fitxer", f, "ja t√© ADN", time.strftime("%H:%M:%S")
